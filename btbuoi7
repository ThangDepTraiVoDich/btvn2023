#include<iostream>
#include<string>
using namespace std;
struct date{
    int ngay, thang, nam;
};
class benhnhan{
    int loai;
    public:

        virtual void nhap(){
            cout <<"nhap loai benh nhan: ";
            cin>>loai;
        }

        virtual void xuat(){
            cout <<"loai hinh: "<<loai<<endl;
        }
};

class noitru : public benhnhan{
    int ma;
    string hoten;
    date ns;
    string chuandoan;
    date nc;
    string noichuyen;
    public:
        void nhap(){
            benhnhan::nhap();
            cout <<"nhap ma: ";
            cin>>ma;

            cout <<"nhap ho ten: ";
            fflush(stdin);
            getline(cin, hoten);

            cout <<"nhap ngay thang nam sinh";
            cin>>ns.ngay>>ns.thang>>ns.nam;

            cout <<"chuan doan benh: ";
            fflush(stdin);
            getline(cin, chuandoan);

            cout <<"ngay chuyen: ";
            cin>>nc.ngay>>nc.thang>>nc.nam;

            cout <<"noi chuyen: ";
            fflush(stdin);
            getline(cin, noichuyen);
        }

        void xuat(){
            benhnhan::xuat();
            cout <<"ma: "<<ma<<endl
                 <<"ho va ten: "<<hoten<<endl
                 <<"ngay thang nam sinh: "<<ns.ngay<<"-"<<ns.thang<<"-"<<ns.nam<<endl
                 <<"chuan doan benh: "<<chuandoan<<endl
                 <<"ngay chuyen: "<<nc.ngay<<"-"<<nc.thang<<"-"<<nc.nam<<endl;
        }
};

class ngoaitru : public benhnhan{
    int ma;
    string hoten;
    date ns;
    string chuandoan;
    date nc;
    string noichuyen;
    public:
        void nhap(){
            benhnhan::nhap();
            cout <<"nhap ma: ";
            cin>>ma;

            cout <<"nhap ho ten: ";
            fflush(stdin);
            getline(cin, hoten);

            cout <<"nhap ngay thang nam sinh: ";
            cin>>ns.ngay>>ns.thang>>ns.nam;

            cout <<"chuan doan benh: ";
            fflush(stdin);
            getline(cin, chuandoan);

            cout <<"ngay chuyen: ";
            cin>>nc.ngay>>nc.thang>>nc.nam;

            cout <<"noi chuyen: ";
            fflush(stdin);
            getline(cin, noichuyen);
        }

        void xuat(){
            benhnhan::xuat();
            cout <<"ma: "<<ma<<endl
                 <<"ho va ten: "<<hoten<<endl
                 <<"ngay thang nam sinh: "<<ns.ngay<<"-"<<ns.thang<<"-"<<ns.nam<<endl
                 <<"chuan doan benh: "<<chuandoan<<endl
                 <<"ngay chuyen: "<<nc.ngay<<"-"<<nc.thang<<"-"<<nc.nam<<endl;
        }
};

int main()
{
    noitru nt;
    
    ngoaitru ngt;
    benhnhan *b[2];
    b[0] = &nt;
    b[1] = &ngt;

    int n=2;

    for(int i=0;i<n;i++){
        cout<<"Nhap thong tin cho benh nhan thu "<<i+1<<endl;
        b[i]->nhap();
    }
    
    for(int i=0;i<n;i++){
        cout<<"\n\nXuat thong tin cho benh nhan thu "<<i+1<<endl;
        b[i]->xuat();
    }

    return 0;

}
